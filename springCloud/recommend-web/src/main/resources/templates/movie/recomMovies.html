<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Movie List</title>
    <link type="text/css" href="/core/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link type="text/css" href="/css/star-rating.css" rel="stylesheet"/>
    <script type="text/javascript" th:src="${'/js/jquery/jquery-3.0.0.min.js'}"></script>
    <script type="text/javascript" th:src="${'/core/bootstrap/dist/js/bootstrap.min.js'}"></script>
    <script type="text/javascript" th:src="${'/js/jquery.bootpag.min.js'}"></script>
    <script type="text/javascript" th:src="${'/js/star-rating.js'}"></script>


    <script type="text/javascript" th:inline="none">

        $(document).ready(function () {
            $.ajax({
                type: "POST",
                url: "/recomMovieInfoList",
                data: {"top": 10},
                // contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    showMovies(data);
                },
                failure: function (errMsg) {
                    alert(errMsg);
                }
            });


        });

        function showMovies(data) {
            var htmlStr = "";
            for (var i = 0; i < data["movies"].length; i++) {
                var divStr = ' <div class="col-sm-3 col-md-2">\n' +
                    '        <div class="thumbnail" onclick="location=\'/movieDetail?movieId='+ data["movies"][i].movieId+'\'" >\n' +
                    '            <img src="' + data["movies"][i].imagePath + '"\n' +
                    '                 alt="通用的占位符缩略图" />\n' +
                    '            <div class="caption">\n' +
                    '                <h4>' + data["movies"][i].movieName + '</h4>\n' +
                    '                <p>评分' + data["movies"][i].avgRating + '</p>\n' +
                    '                <p>\n' +
                    '                    <a href="#" class="btn btn-primary" role="button">\n' +
                    '                        喜欢\n' +
                    '                    </a>\n' +
                    '                    <a href="#" class="btn btn-default" role="button">\n' +
                    '                        不喜欢\n' +
                    '                    </a>\n' +
                    '                </p>\n' +
                    '            </div>\n' +
                    '        </div>\n' +
                    '    </div>';
                htmlStr += divStr;
            }

            $("#content").html(htmlStr);
        }

    </script>
</head>
<body>

<div id="content" class="row">
    <div class="col-sm-3 col-md-3">
        <div class="thumbnail">
            <img src="/images/testmovie.jpg"
                 alt="通用的占位符缩略图">
            <div class="caption">
                <h3>缩略图标签</h3>
                <p>一些示例文本。一些示例文本。</p>
                <p>
                    <a href="#" class="btn btn-primary" role="button">
                        喜欢
                    </a>
                    <a href="#" class="btn btn-default" role="button">
                        不喜欢
                    </a>
                </p>
            </div>
        </div>
    </div>
    <div class="col-sm-3 col-md-3">
        <div class="thumbnail">
            <img src="/images/testmovie.jpg"
                 alt="通用的占位符缩略图">
            <div class="caption">
                <h3>缩略图标签</h3>
                <p>一些示例文本。一些示例文本。</p>
                <p>
                    <a href="#" class="btn btn-primary" role="button">
                        喜欢
                    </a>
                    <a href="#" class="btn btn-default" role="button">
                        不喜欢
                    </a>
                </p>
            </div>
        </div>
    </div>
    <div class="col-sm-3 col-md-3">
        <div class="thumbnail">
            <img src="/images/testmovie.jpg"
                 alt="通用的占位符缩略图">
            <div class="caption">
                <h3>缩略图标签</h3>
                <p>一些示例文本。一些示例文本。</p>
                <p>
                    <a href="#" class="btn btn-primary" role="button">
                        喜欢
                    </a>
                    <a href="#" class="btn btn-default" role="button">
                        不喜欢
                    </a>
                </p>
            </div>
        </div>
    </div>
</div>
<div id="page-selection"></div>
<!--<div>
    <table id="objectDetailTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
        <tr>
            <th>objectName</th>
            <th>objectDesc</th>
        </tr>
        </thead>
    </table>
</div>-->
</body>
</html>