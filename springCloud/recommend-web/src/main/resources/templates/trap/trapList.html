<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Trap List</title>
    <link type="text/css" href="/core/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="/core/datatables/media/css/dataTables.bootstrap.css"/>
    <script src="/js/jquery/jquery-3.0.0.js"></script>
    <script type="text/javascript" th:src="${'/core/datatables/media/js/jquery.dataTables.js'}"></script>
    <script type="text/javascript" th:src="${'/core/datatables/media/js/dataTables.bootstrap.js'}"></script>
    <script type="text/javascript" th:inline="none">
        $(document).ready(function(){
            var table=$("#traplistTable").DataTable({
                "autoWidth": true,
                "processing": true,
                "serverSide": true,
                "ajax": {
                    "url" : "/trapInfoList",
                    "type" : "POST"
                },
                "order": [[ 1, "desc" ]],
                "pagingType": "full_numbers",
                columns : [
                    // { "data": "id", visible:false},
                    { "data": "id"},
                    { "data": "name" },
                    { "data": "oid" },
                    { "data": "description" }
                ]
            });

/*
            $("#traplistTable").on("click","tr",function(){//给tr或者td添加click事件
                //var data=table.row(this).data();//获取值的对象数据
                //alert($(this).text());//某一行中要是用的表头值
                var rowId = table.row( this ).data().id;
                $("#objectDetailTable tr:gt(0)").remove();
                $.ajax({
                    type: 'GET',
                    url: '/trap/objectDetail',
                    data: { id: rowId },
                    dataType: 'json',
                    success: function (data) {
                        $.each(data, function(index, element) {
//                            rowData=rowData+ '<td>' + element.objectName + "</td><td>" + element.objectDesc +  "</td>";
                            $("#objectDetailTable tr:last").after("<tr><td>" +element.objectName+ "</td><td>" + element.objectDesc + "</td></tr>");
                        });
                    }
                });

//                var newRow = "<tr><td>新行第一列</td><td>新行第二列</td></tr>";

//                $("#objectDetailTable tr:last").after(newRow);

            });*/

        });



    </script>
</head>
<body>
<div class="container">
    <table id="traplistTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
        <tr>
            <th>id</th>
            <th>name</th>
            <th>oid</th>
            <th>description</th>
        </tr>
        </thead>
    </table>
</div>
<!--<div>
    <table id="objectDetailTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
        <tr>
            <th>objectName</th>
            <th>objectDesc</th>
        </tr>
        </thead>
    </table>
</div>-->
</body>
</html>